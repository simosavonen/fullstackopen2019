(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(38)},18:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(11),u=n.n(l),c=(n(18),n(2)),o=function(e){var t=e.person,n=e.deleteHandler;return r.a.createElement("tr",null,r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.number),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return n(t)}},"poista")))},i=function(e){return r.a.createElement("table",null,r.a.createElement("tbody",null,e.persons.map(function(t){return r.a.createElement(o,{key:t.name,person:t,deleteHandler:e.deleteHandler})})))},m=function(e){var t=e.formAction,n=e.nameState,a=e.numberState,l=e.nameHandler,u=e.numberHandler;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null,"nimi:",r.a.createElement("input",{value:n,onChange:l})),r.a.createElement("div",null,"numero:",r.a.createElement("input",{value:a,onChange:u})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},f=function(e){return r.a.createElement("div",null,"rajaa n\xe4ytett\xe4vi\xe4",r.a.createElement("input",{value:e.filter,onChange:e.handler}))},s=function(e){var t=e.message,n=e.isError;return null===t?null:r.a.createElement("div",{className:n?"error notification":"notification"},t)},d=n(3),E=n.n(d),p="https://banana-shortcake-38876.herokuapp.com/api/persons",b=function(){return E.a.get(p)},v=function(e){return E.a.post(p,e)},h=function(e,t){return E.a.put("".concat(p,"/").concat(e),t)},j=function(e){return E.a.delete("".concat(p,"/").concat(e))},O=function(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),n=t[0],l=t[1],u=Object(a.useState)(""),o=Object(c.a)(u,2),d=o[0],E=o[1],p=Object(a.useState)(""),O=Object(c.a)(p,2),w=O[0],g=O[1],S=Object(a.useState)(""),k=Object(c.a)(S,2),H=k[0],C=k[1],y=Object(a.useState)(null),T=Object(c.a)(y,2),L=T[0],P=T[1],A=Object(a.useState)(!1),J=Object(c.a)(A,2),N=J[0],x=J[1];Object(a.useEffect)(function(){b().then(function(e){l(e.data)})},[]);var B=H?n.filter(function(e){return e.name.toLowerCase().includes(H)}):n;return r.a.createElement("div",null,r.a.createElement("h2",null,"Puhelinluettelo"),r.a.createElement(s,{message:L,isError:N}),r.a.createElement(f,{filter:H,handler:function(e){C(e.target.value.toLowerCase())}}),r.a.createElement("h3",null,"lis\xe4\xe4 uusi"),r.a.createElement(m,{formAction:function(e){e.preventDefault();var t={name:d,number:w},a=n.filter(function(e){return e.name===d});if(0===a.length)v(t).then(function(e){l(n.concat(e.data)),E(""),g(""),P("Lis\xe4ttiin ".concat(e.data.name,".")),x(!1),setTimeout(function(){P(null)},5e3)});else{var r="".concat(d," on jo luettelossa, korvataanko vanha numero uudella?");if(window.confirm(r)){var u=a[0].id;h(u,t).then(function(e){l(n.map(function(t){return t.id!==u?t:e.data})),E(""),g("")}).catch(function(e){P("".concat(d," oli jo poistettu palvelimelta.")),x(!0),setTimeout(function(){P(null)},5e3)})}}},nameState:d,numberState:w,nameHandler:function(e){E(e.target.value)},numberHandler:function(e){g(e.target.value)}}),r.a.createElement("h3",null,"Numerot"),r.a.createElement(i,{persons:B,deleteHandler:function(e){if(window.confirm("Poistetaanko ".concat(e.name,"?"))){var t=n.filter(function(t){return t.id!==e.id});j(e.id).then(function(){l(t),P("Poistettiin ".concat(e.name,".")),x(!1),setTimeout(function(){P(null)},5e3)}).catch(function(t){P("".concat(e.name," oli jo poistettu palvelimelta.")),x(!0),setTimeout(function(){P(null)},5e3)})}}}))};u.a.render(r.a.createElement(O,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.1d8724cf.chunk.js.map